# Test info

- Name: Open Admin Page & St Pages: view, edit >> Open an edit mode of "/1180" structure page
- Location: /home/runner/work/qa-automated-tests/qa-automated-tests/tests/ngf.test.js:50:7

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)

Locator: getByTestId('document-controls-panel')
Expected string: "/1180"
Received: <element(s) not found>
Call log:
  - expect.toContainText with timeout 5000ms
  - waiting for getByTestId('document-controls-panel')

    at /home/runner/work/qa-automated-tests/qa-automated-tests/tests/ngf.test.js:61:45
    at /home/runner/work/qa-automated-tests/qa-automated-tests/tests/ngf.test.js:60:16
```

# Page snapshot

```yaml
- link "Mobalytics":
  - /url: /poe-2
  - img "Mobalytics"
- link "League of Legends LoL":
  - /url: https://stg.mobalytics.gg/lol
  - img "League of Legends"
  - text: LoL
- link "Teamfight Tactics TFT":
  - /url: https://stg.mobalytics.gg/tft
  - img "Teamfight Tactics"
  - text: TFT
- link "Path of Exile 2 PoE 2":
  - /url: https://stg.mobalytics.gg/poe-2
  - img "Path of Exile 2"
  - text: PoE 2
- link "Diablo 4 Diablo 4":
  - /url: https://stg.mobalytics.gg/diablo-4
  - img "Diablo 4"
  - text: Diablo 4
- link "Elden Ring Nightreign Nightreign New":
  - /url: https://stg.mobalytics.gg/elden-ring-nightreign
  - img "Elden Ring Nightreign"
  - text: Nightreign New
- link "Deadlock Deadlock":
  - /url: https://stg.mobalytics.gg/deadlock
  - img "Deadlock"
  - text: Deadlock
- link "Valorant VAL":
  - /url: https://stg.mobalytics.gg/valorant
  - img "Valorant"
  - text: VAL
- link "Monster Hunter Wilds Monster Hunter Wilds":
  - /url: https://stg.mobalytics.gg/mhw
  - img "Monster Hunter Wilds"
  - text: Monster Hunter Wilds
- link "Destiny 2 Destiny 2":
  - /url: https://stg.mobalytics.gg/destiny-2
  - img "Destiny 2"
  - text: Destiny 2
- button:
  - img
- link "Lost Ark Lost Ark":
  - /url: https://stg.mobalytics.gg/lost-ark
  - img "Lost Ark"
  - text: Lost Ark
- link "Example game ExG":
  - /url: https://stg.mobalytics.gg/example-game
  - img "Example game"
  - text: ExG
- link "The Bazaar The Bazaar":
  - /url: https://stg.mobalytics.gg/the-bazaar
  - img "The Bazaar"
  - text: The Bazaar
- link "Marvel Rivals Marvel Rivals":
  - /url: https://stg.mobalytics.gg/marvel-rivals
  - img "Marvel Rivals"
  - text: Marvel Rivals
- link "Zenless Zone Zero ZZZ New":
  - /url: https://stg.mobalytics.gg/zzz
  - img "Zenless Zone Zero"
  - text: ZZZ New
- link "win logo Download app":
  - /url: /lol/glp/download-welcome?Channel=web_dl_btn&utm_campaign=top-poe-2&utm_medium=homepage&utm_source=web
  - button "win logo Download app":
    - img "win logo"
    - text: Download app
- img
- textbox "global search input"
- text: Community
- img "settings"
- img "support"
- link "Home":
  - /url: /poe-2
  - img "Home"
- link "Profile":
  - /url: /poe-2/profile
  - img "Profile"
- link "Build Planner":
  - /url: /poe-2/planner/builds
  - img "Build Planner"
- link "Tier List":
  - /url: /poe-2/tier-list
  - img "Tier List"
- link "Starter Builds":
  - /url: /poe-2/starter-builds
  - img "Starter Builds"
- link "Builds":
  - /url: /poe-2/builds
  - img "Builds"
- link "Creators":
  - /url: /poe-2/creators
  - img "Creators"
- link "Guides":
  - /url: /poe-2/guides
  - img "Guides"
- main:
  - text: /1180 Published
  - button "Update"
  - button "SEO":
    - img
    - text: SEO
  - button "Cancel"
  - 'button "Rich Text Widget V2 Edit 23142134 1234234 213421 2314123 24124421 1234124 124124 2134123 2134234 21341234 1234234 Abyssal Cuirass Abyssal Flail select 1234123412341234123412341234123412341234123412341234qwery 1234 qewr qwerqwer qwer qwer qwer qwer Ab Aeterno12312321312 12312312312 123123 1232342342342342342333333333333333333333333333333333333333333333332342342343242234234234423423423423423423234234234234234234 Rich Text V2 Simplified Widget Edit select 1234122341234212343241234234`2314124` 2141242134412342134124ewwefwefwefwefwdverv23234234Adorned Gloves Beyond Reachdwqqwqwdqwdqwdqwdqwdqwdqwdqwdqwdqwdqwcweqcwe 793 characters remaining"':
    - button "Rich Text Widget V2 Edit 23142134 1234234 213421 2314123 24124421 1234124 124124 2134123 2134234 21341234 1234234 Abyssal Cuirass Abyssal Flail select 1234123412341234123412341234123412341234123412341234qwery 1234 qewr qwerqwer qwer qwer qwer qwer Ab Aeterno12312321312 12312312312 123123 1232342342342342342333333333333333333333333333333333333333333333332342342343242234234234423423423423423423234234234234234234":
      - heading "Rich Text Widget V2" [level=2]
      - button "Edit"
      - button:
        - img
      - paragraph: "23142134"
      - heading "1234234" [level=3]
      - heading "213421" [level=4]
      - list:
        - listitem: "2314123"
        - listitem: "24124421"
        - listitem:
          - list:
            - listitem: "1234124"
      - list:
        - listitem: "124124"
        - listitem: "2134123"
        - listitem:
          - list:
            - listitem: "2134234"
      - paragraph:
        - strong: "21341234"
      - paragraph:
        - link "1234234":
          - /url: /lol
      - paragraph: Abyssal Cuirass
      - paragraph: Abyssal Flail
      - paragraph
      - button "Normal text":
        - text: Normal text
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - textbox:
        - paragraph: "1234"
        - heading "1234" [level=3]
        - heading "1234" [level=4]
        - list:
          - listitem: "1234"
          - listitem: "1234"
          - listitem:
            - list:
              - listitem: "1234"
        - list:
          - listitem: "1234"
          - listitem: "1234"
          - listitem:
            - list:
              - listitem: "1234"
        - paragraph:
          - strong: "1234"
        - paragraph: "1234"
        - paragraph: "1234"
        - paragraph:
          - link "1234":
            - /url: /lol
        - paragraph:
          - link "qwery":
            - /url: /lol
        - paragraph: 1234 qewr qwer
        - paragraph: qwer qwer qwer qwer qwer
        - paragraph
        - paragraph: Ab Aeterno
        - table:
          - row "12312321312 12312312312 123123 123 234234 234234":
            - cell "12312321312 12312312312 123123 123":
              - paragraph:
                - text: "12312321312"
                - link "12312312312":
                  - /url: /lol
                - text: 123123 123
            - cell "234234":
              - heading "234234" [level=3]
            - cell "234234":
              - paragraph: "234234"
          - row "234233333333333333333333333333333333333333333333333234234 234324":
            - cell "234233333333333333333333333333333333333333333333333234234":
              - paragraph:
                - strong: "234233333333333333333333333333333333333333333333333234234"
            - cell "234324":
              - heading "234324" [level=4]
            - cell:
              - paragraph
          - row "2234234 2344234 234234 23423423 234234 234234":
            - cell "2234234 2344234 234234":
              - list:
                - listitem: "2234234"
                - listitem: "2344234"
                - listitem:
                  - list:
                    - listitem: "234234"
            - cell "23423423 234234 234234":
              - list:
                - listitem: "23423423"
                - listitem: "234234"
                - listitem:
                  - list:
                    - listitem: "234234"
          - row:
            - cell:
              - paragraph
            - cell:
              - paragraph
          - row "234234":
            - cell:
              - paragraph
              - paragraph
              - paragraph
            - cell:
              - paragraph
            - cell "234234":
              - paragraph: "234234"
        - paragraph:
          - link "456654":
            - /url: /lol
            - img "456654"
        - paragraph
        - paragraph
      - button
      - button
    - 'button "Rich Text V2 Simplified Widget Edit select 1234122341234212343241234234`2314124` 2141242134412342134124ewwefwefwefwefwdverv23234234Adorned Gloves Beyond Reachdwqqwqwdqwdqwdqwdqwdqwdqwdqwdqwdqwdqwcweqcwe 793 characters remaining"':
      - heading "Rich Text V2 Simplified Widget" [level=2]
      - button "Edit"
      - button:
        - img
      - button "Normal text":
        - text: Normal text
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - textbox:
        - paragraph: "1234"
        - heading "12234" [level=3]
        - heading "12342" [level=4]
        - list:
          - listitem: "1234324"
          - listitem: "1234234"
          - listitem: "`2314124"
          - listitem: "` 214124"
          - listitem:
            - list:
              - listitem: "21344"
        - list:
          - listitem: "1234"
          - listitem: "2134124"
          - listitem:
            - list:
              - listitem: ewwefwef
        - paragraph:
          - strong: wefwefw
        - paragraph:
          - link "dverv":
            - /url: /lol
        - paragraph:
          - link "23234234":
            - /url: /lol
        - paragraph: Adorned Gloves
        - paragraph: Beyond Reach
        - paragraph
        - heading "dwqqw" [level=3]
        - heading "qwdqwd" [level=4]
        - list:
          - listitem: qwdqwd
          - listitem: qwdqwd
        - paragraph
        - list:
          - listitem: qwdqwd
          - listitem: qwdqwd
          - listitem:
            - list:
              - listitem: qwcweqcwe
      - text: 793 characters remaining
    - button:
      - img
  - button "Rich Text Widget V2 Edit select 231421341234234213421231412324124421123412412412421341232134234213412341234234 12312321312 12312312312 123123 1232342342342342342333333333333333333333333333333333333333333333332342342343242234234234423423423423423423234234234234234234 Video V2 Edit Video (Optional) watch?v=MKG_6BqnhpI&t=2130s":
    - button "Rich Text Widget V2 Edit select 231421341234234213421231412324124421123412412412421341232134234213412341234234 12312321312 12312312312 123123 1232342342342342342333333333333333333333333333333333333333333333332342342343242234234234423423423423423423234234234234234234":
      - heading "Rich Text Widget V2" [level=2]
      - button "Edit"
      - button:
        - img
      - button "Normal text":
        - text: Normal text
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - button:
        - img
      - textbox:
        - paragraph: "23142134"
        - heading "1234234" [level=3]
        - heading "213421" [level=4]
        - list:
          - listitem: "2314123"
          - listitem: "24124421"
          - listitem:
            - list:
              - listitem: "1234124"
        - list:
          - listitem: "124124"
          - listitem: "2134123"
          - listitem:
            - list:
              - listitem: "2134234"
        - paragraph:
          - strong: "21341234"
        - paragraph:
          - link "1234234":
            - /url: /lol
        - paragraph
        - table:
          - row "12312321312 12312312312 123123 123 234234 234234":
            - cell "12312321312 12312312312 123123 123":
              - paragraph:
                - text: "12312321312"
                - link "12312312312":
                  - /url: /lol
                - text: 123123 123
            - cell "234234":
              - heading "234234" [level=3]
            - cell "234234":
              - paragraph: "234234"
          - row "234233333333333333333333333333333333333333333333333234234 234324":
            - cell "234233333333333333333333333333333333333333333333333234234":
              - paragraph:
                - strong: "234233333333333333333333333333333333333333333333333234234"
            - cell "234324":
              - heading "234324" [level=4]
            - cell:
              - paragraph
          - row "2234234 2344234 234234 23423423 234234 234234":
            - cell "2234234 2344234 234234":
              - list:
                - listitem: "2234234"
                - listitem: "2344234"
                - listitem:
                  - list:
                    - listitem: "234234"
            - cell "23423423 234234 234234":
              - list:
                - listitem: "23423423"
                - listitem: "234234"
                - listitem:
                  - list:
                    - listitem: "234234"
          - row:
            - cell:
              - paragraph
            - cell:
              - paragraph
          - row "234234":
            - cell:
              - paragraph
            - cell:
              - paragraph
            - cell "234234":
              - paragraph: "234234"
        - paragraph:
          - img "456654"
          - img "456654"
          - img "456654"
          - img "456654"
          - img "456654"
          - img "456654"
          - img "456654"
          - img "456654"
      - button
      - button
    - button "Video V2 Edit Video (Optional) watch?v=MKG_6BqnhpI&t=2130s":
      - heading "Video V2" [level=2]
      - button "Edit"
      - button:
        - img
      - text: Video (Optional)
      - radiogroup:
        - radio "Upload" [checked]
        - text: Upload
        - radio "Link"
        - text: Link
      - text: watch?v=MKG_6BqnhpI&t=2130s
      - img
    - button:
      - img
  - button "Add section":
    - img
    - text: Add section
  - status
```

# Test source

```ts
   1 | import { expect } from "@playwright/test";
   2 | import { test } from "../src/fixtures/index";
   3 | import { Moba } from "../src/page-object/moba";
   4 | import { v4 as uuidv4 } from "uuid";
   5 |
   6 | test("There is no a new game in navbar on the production", async ({
   7 |   page,
   8 |   baseURL,
   9 | }) => {
   10 |   const NEW_GAME = "ZZZ";
   11 |   const moba = new Moba(page);
   12 |   await moba.mainURLs.openMainPage(baseURL);
   13 |   await moba.mainPage.selectDestinyProject();
   14 |
   15 |   await test.step(`Expected Result: There is no ${NEW_GAME} game in the navbar on prod`, async () => {
   16 |     await expect(moba.navbar.gameList).not.toContainText(NEW_GAME);
   17 |   });
   18 | });
   19 |
   20 | test.describe("Open Admin Page & St Pages: view, edit", () => {
   21 |   test(`Go to the admin structure page`, async ({ apiAuth, page }) => {
   22 |     await page.context().addCookies(apiAuth.cookies);
   23 |     let adminTitle = "Structure Pages";
   24 |     const moba = new Moba(page);
   25 |
   26 |     await moba.mainURLs.openAdminStgPoePage();
   27 |     await test.step(`Expected Result: Admin structure page is opened`, async () => {
   28 |       await expect(moba.stAdminPage.createPageButton).toBeVisible();
   29 |       await expect(moba.stAdminPage.stAdminTitle(adminTitle)).toContainText(
   30 |         adminTitle
   31 |       );
   32 |     });
   33 |   });
   34 |
   35 |   test(`Open a view mode of "/1180" structure page`, async ({
   36 |     apiAuth,
   37 |     page,
   38 |   }) => {
   39 |     await page.context().addCookies(apiAuth.cookies);
   40 |
   41 |     const moba = new Moba(page);
   42 |
   43 |     await moba.mainURLs.openAdminStgPoePage();
   44 |     await moba.stAdminPage.clickOnStWidget();
   45 |     await test.step(`Expected Result: View mode the /1180 structure page is opened`, async () => {
   46 |       await expect(moba.stPage.stPageTitle).toContainText("/1180");
   47 |     });
   48 |   });
   49 |
   50 |   test(`Open an edit mode of "/1180" structure page`, async ({
   51 |     apiAuth,
   52 |     page,
   53 |   }) => {
   54 |     await page.context().addCookies(apiAuth.cookies);
   55 |
   56 |     const moba = new Moba(page);
   57 |
   58 |     await moba.mainURLs.openAdminStgPoePage();
   59 |     await moba.stAdminPage.clickEditButton();
   60 |     await test.step(`Expected Result: Edit mode the "/1180" structure page is opened`, async () => {
>  61 |       await expect(moba.stPage.stPageTitle).toContainText("/1180");
      |                                             ^ Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)
   62 |       await expect(moba.stPage.addSectionButton).toBeVisible();
   63 |     });
   64 |   });
   65 | });
   66 |
   67 | test.describe("Creating ST Pages", () => {
   68 |   test(`Create a structure page on PoE project`, async ({
   69 |     apiAuth,
   70 |     page,
   71 |     cleanupStPoEPages,
   72 |   }) => {
   73 |     await page.context().addCookies(apiAuth.cookies);
   74 |     const uniqueId = uuidv4();
   75 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
   76 |     const moba = new Moba(page);
   77 |
   78 |     await moba.mainURLs.openAdminStgPoePage();
   79 |     await moba.stAdminPage.clickOnCreatePageButton();
   80 |     await moba.stPage.addHeaderV2Widget();
   81 |     await moba.stPage.createStPage(pageName);
   82 |
   83 |     // Регистрируем страницу для удаления
   84 |     cleanupStPoEPages.addPageForCleanup(pageName);
   85 |
   86 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on PoE project`, async () => {
   87 |       await expect(moba.stPage.headerV2PoE).toContainText("PoE 2");
   88 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
   89 |     });
   90 |   });
   91 |
   92 |   test(`Create a structure page on Nightreign project`, async ({
   93 |     apiAuth,
   94 |     page,
   95 |     cleanupStNightreignPages,
   96 |   }) => {
   97 |     await page.context().addCookies(apiAuth.cookies);
   98 |     const uniqueId = uuidv4();
   99 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
  100 |     const moba = new Moba(page);
  101 |
  102 |     await moba.mainURLs.openAdminStgNightreignPage();
  103 |     await moba.stAdminPage.clickOnCreatePageButton();
  104 |     await moba.stPage.addHeaderV2Widget();
  105 |     await moba.stPage.createStPage(pageName);
  106 |
  107 |     // Регистрируем страницу для удаления
  108 |     cleanupStNightreignPages.addPageForCleanup(pageName);
  109 |
  110 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Nightreign project`, async () => {
  111 |       await expect(moba.stPage.headerV2Nightreign).toContainText("Nightreign");
  112 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
  113 |     });
  114 |   });
  115 |
  116 |   test(`Create a structure page on Deadlock project`, async ({
  117 |     apiAuth,
  118 |     page,
  119 |     cleanupStDeadlockPages,
  120 |   }) => {
  121 |     await page.context().addCookies(apiAuth.cookies);
  122 |     const uniqueId = uuidv4();
  123 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
  124 |     const moba = new Moba(page);
  125 |
  126 |     await moba.mainURLs.openAdminStgDeadlockPage();
  127 |     await moba.stAdminPage.clickOnCreatePageButton();
  128 |     await moba.stPage.addHeaderV2Widget();
  129 |     await moba.stPage.createStPage(pageName);
  130 |
  131 |     // Регистрируем страницу для удаления
  132 |     cleanupStDeadlockPages.addPageForCleanup(pageName);
  133 |
  134 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Deadlock project`, async () => {
  135 |       await expect(moba.stPage.headerV2Deadlock).toContainText("Deadlock");
  136 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
  137 |     });
  138 |   });
  139 |
  140 |   test(`Create a structure page on Mhw project`, async ({
  141 |     apiAuth,
  142 |     page,
  143 |     cleanupStMhwPages,
  144 |   }) => {
  145 |     await page.context().addCookies(apiAuth.cookies);
  146 |     const uniqueId = uuidv4();
  147 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
  148 |     const moba = new Moba(page);
  149 |
  150 |     await moba.mainURLs.openAdminStgMhwPage();
  151 |     await moba.stAdminPage.clickOnCreatePageButton();
  152 |     await moba.stPage.addHeaderV2Widget();
  153 |     await moba.stPage.createStPage(pageName);
  154 |
  155 |     // Регистрируем страницу для удаления
  156 |     cleanupStMhwPages.addPageForCleanup(pageName);
  157 |
  158 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Monster Hunter Wilds project`, async () => {
  159 |       await expect(moba.stPage.headerV2Mhw).toContainText(
  160 |         "Monster Hunter Wilds"
  161 |       );
```