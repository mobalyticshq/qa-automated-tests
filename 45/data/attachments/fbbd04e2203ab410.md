# Test info

- Name: Creating ST Pages >> Create a structure page on Mhw project
- Location: /home/runner/work/qa-automated-tests/qa-automated-tests/tests/ngf.test.js:140:7

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)

Locator: locator('#container').getByText('Monster Hunter Wilds')
Expected string: "Monster Hunter Wilds"
Received: <element(s) not found>
Call log:
  - expect.toContainText with timeout 5000ms
  - waiting for locator('#container').getByText('Monster Hunter Wilds')

    at /home/runner/work/qa-automated-tests/qa-automated-tests/tests/ngf.test.js:159:45
    at /home/runner/work/qa-automated-tests/qa-automated-tests/tests/ngf.test.js:158:16
```

# Page snapshot

```yaml
- link "Mobalytics":
  - /url: /mhw
  - img "Mobalytics"
- link "League of Legends LoL":
  - /url: https://stg.mobalytics.gg/lol
  - img "League of Legends"
  - text: LoL
- link "Teamfight Tactics TFT":
  - /url: https://stg.mobalytics.gg/tft
  - img "Teamfight Tactics"
  - text: TFT
- link "Path of Exile 2 PoE 2":
  - /url: https://stg.mobalytics.gg/poe-2
  - img "Path of Exile 2"
  - text: PoE 2
- link "Diablo 4 Diablo 4":
  - /url: https://stg.mobalytics.gg/diablo-4
  - img "Diablo 4"
  - text: Diablo 4
- link "Elden Ring Nightreign Nightreign New":
  - /url: https://stg.mobalytics.gg/elden-ring-nightreign
  - img "Elden Ring Nightreign"
  - text: Nightreign New
- link "Deadlock Deadlock":
  - /url: https://stg.mobalytics.gg/deadlock
  - img "Deadlock"
  - text: Deadlock
- link "Valorant VAL":
  - /url: https://stg.mobalytics.gg/valorant
  - img "Valorant"
  - text: VAL
- link "Monster Hunter Wilds Monster Hunter Wilds":
  - /url: https://stg.mobalytics.gg/mhw
  - img "Monster Hunter Wilds"
  - text: Monster Hunter Wilds
- link "Destiny 2 Destiny 2":
  - /url: https://stg.mobalytics.gg/destiny-2
  - img "Destiny 2"
  - text: Destiny 2
- link "Lost Ark Lost Ark":
  - /url: https://stg.mobalytics.gg/lost-ark
  - img "Lost Ark"
  - text: Lost Ark
- button:
  - img
- link "Example game ExG":
  - /url: https://stg.mobalytics.gg/example-game
  - img "Example game"
  - text: ExG
- link "The Bazaar The Bazaar":
  - /url: https://stg.mobalytics.gg/the-bazaar
  - img "The Bazaar"
  - text: The Bazaar
- link "Marvel Rivals Marvel Rivals":
  - /url: https://stg.mobalytics.gg/marvel-rivals
  - img "Marvel Rivals"
  - text: Marvel Rivals
- link "Zenless Zone Zero ZZZ New":
  - /url: https://stg.mobalytics.gg/zzz
  - img "Zenless Zone Zero"
  - text: ZZZ New
- link "win logo Download app":
  - /url: /lol/glp/download-welcome?Channel=web_dl_btn&utm_campaign=top-mhw&utm_medium=homepage&utm_source=web
  - button "win logo Download app":
    - img "win logo"
    - text: Download app
- text: Community
- img "settings"
- img "support"
- link "Home":
  - /url: /mhw
  - img "Home"
- link "Profile":
  - /url: /mhw/profile
  - img "Profile"
- link "Build Planner":
  - /url: /mhw/planner/builds
  - img "Build Planner"
- link "Builds":
  - /url: /mhw/builds
  - img "Builds"
- link "Weapons":
  - /url: /mhw/weapons
  - img "Weapons"
- link "Monster Guides":
  - /url: /mhw/monster-guides
  - img "Monster Guides"
- link "Guides":
  - /url: /mhw/guides
  - img "Guides"
- main:
  - heading "Structure Pages" [level=1]
  - link "Create Page":
    - /url: /mhw/planner/st
    - img
    - text: Create Page
  - text: /2032-upload
  - link "Edit":
    - /url: /mhw/2032-upload
  - button:
    - img
  - text: /autolock-show-in-new-tab-testing
  - link "Edit":
    - /url: /mhw/autolock-show-in-new-tab-testing
  - button:
    - img
  - text: /builds
  - link "Edit":
    - /url: /mhw/builds
  - button:
    - img
  - text: /chto2
  - link "Edit":
    - /url: /mhw/chto2
  - button:
    - img
  - text: /chto3
  - link "Edit":
    - /url: /mhw/chto3
  - button:
    - img
  - text: /copy-paste
  - link "Edit":
    - /url: /mhw/copy-paste
  - button:
    - img
  - text: /dnd
  - link "Edit":
    - /url: /mhw/dnd
  - button:
    - img
  - text: /guides
  - link "Edit":
    - /url: /mhw/guides
  - button:
    - img
  - text: /home
  - link "Edit":
    - /url: /mhw/home
  - button:
    - img
  - text: /ionov
  - link "Edit":
    - /url: /mhw/ionov
  - button:
    - img
  - text: /long-sword-guide
  - link "Edit":
    - /url: /mhw/long-sword-guide
  - button:
    - img
  - text: /mhw-discovery
  - link "Edit":
    - /url: /mhw/mhw-discovery
  - button:
    - img
  - text: /monster-guides
  - link "Edit":
    - /url: /mhw/monster-guides
  - button:
    - img
  - text: /qq
  - link "Edit":
    - /url: /mhw/qq
  - button:
    - img
  - text: /sol
  - link "Edit":
    - /url: /mhw/sol
  - button:
    - img
  - text: /swwidget
  - link "Edit":
    - /url: /mhw/swwidget
  - button:
    - img
  - text: /test123
  - link "Edit":
    - /url: /mhw/test123
  - button:
    - img
  - text: /test-headers
  - link "Edit":
    - /url: /mhw/test-headers
  - button:
    - img
  - text: /test-image-links
  - link "Edit":
    - /url: /mhw/test-image-links
  - button:
    - img
  - text: /test-int-mhw-discovery-el
  - link "Edit":
    - /url: /mhw/test-int-mhw-discovery-el
  - button:
    - img
  - text: /test-mhw-int-titles
  - link "Edit":
    - /url: /mhw/test-mhw-int-titles
  - button:
    - img
  - text: /test-stg-mhw-el
  - link "Edit":
    - /url: /mhw/test-stg-mhw-el
  - button:
    - img
  - text: /test-stg-mhw-sticky
  - link "Edit":
    - /url: /mhw/test-stg-mhw-sticky
  - button:
    - img
  - text: /test-stg-mhw-sw
  - link "Edit":
    - /url: /mhw/test-stg-mhw-sw
  - button:
    - img
  - text: /text-table
  - link "Edit":
    - /url: /mhw/text-table
  - button:
    - img
  - text: /weapons
  - link "Edit":
    - /url: /mhw/weapons
  - button:
    - img
```

# Test source

```ts
   59 |     await moba.stAdminPage.clickEditButton();
   60 |     await test.step(`Expected Result: Edit mode the "/1180" structure page is opened`, async () => {
   61 |       await expect(moba.stPage.stPageTitle).toContainText("/1180");
   62 |       await expect(moba.stPage.addSectionButton).toBeVisible();
   63 |     });
   64 |   });
   65 | });
   66 |
   67 | test.describe("Creating ST Pages", () => {
   68 |   test(`Create a structure page on PoE project`, async ({
   69 |     apiAuth,
   70 |     page,
   71 |     cleanupStPoEPages,
   72 |   }) => {
   73 |     await page.context().addCookies(apiAuth.cookies);
   74 |     const uniqueId = uuidv4();
   75 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
   76 |     const moba = new Moba(page);
   77 |
   78 |     await moba.mainURLs.openAdminStgPoePage();
   79 |     await moba.stAdminPage.clickOnCreatePageButton();
   80 |     await moba.stPage.addHeaderV2Widget();
   81 |     await moba.stPage.createStPage(pageName);
   82 |
   83 |     // Регистрируем страницу для удаления
   84 |     cleanupStPoEPages.addPageForCleanup(pageName);
   85 |
   86 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on PoE project`, async () => {
   87 |       await expect(moba.stPage.headerV2PoE).toContainText("PoE 2");
   88 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
   89 |     });
   90 |   });
   91 |
   92 |   test(`Create a structure page on Nightreign project`, async ({
   93 |     apiAuth,
   94 |     page,
   95 |     cleanupStNightreignPages,
   96 |   }) => {
   97 |     await page.context().addCookies(apiAuth.cookies);
   98 |     const uniqueId = uuidv4();
   99 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
  100 |     const moba = new Moba(page);
  101 |
  102 |     await moba.mainURLs.openAdminStgNightreignPage();
  103 |     await moba.stAdminPage.clickOnCreatePageButton();
  104 |     await moba.stPage.addHeaderV2Widget();
  105 |     await moba.stPage.createStPage(pageName);
  106 |
  107 |     // Регистрируем страницу для удаления
  108 |     cleanupStNightreignPages.addPageForCleanup(pageName);
  109 |
  110 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Nightreign project`, async () => {
  111 |       await expect(moba.stPage.headerV2Nightreign).toContainText("Nightreign");
  112 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
  113 |     });
  114 |   });
  115 |
  116 |   test(`Create a structure page on Deadlock project`, async ({
  117 |     apiAuth,
  118 |     page,
  119 |     cleanupStDeadlockPages,
  120 |   }) => {
  121 |     await page.context().addCookies(apiAuth.cookies);
  122 |     const uniqueId = uuidv4();
  123 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
  124 |     const moba = new Moba(page);
  125 |
  126 |     await moba.mainURLs.openAdminStgDeadlockPage();
  127 |     await moba.stAdminPage.clickOnCreatePageButton();
  128 |     await moba.stPage.addHeaderV2Widget();
  129 |     await moba.stPage.createStPage(pageName);
  130 |
  131 |     // Регистрируем страницу для удаления
  132 |     cleanupStDeadlockPages.addPageForCleanup(pageName);
  133 |
  134 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Deadlock project`, async () => {
  135 |       await expect(moba.stPage.headerV2Deadlock).toContainText("Deadlock");
  136 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
  137 |     });
  138 |   });
  139 |
  140 |   test(`Create a structure page on Mhw project`, async ({
  141 |     apiAuth,
  142 |     page,
  143 |     cleanupStMhwPages,
  144 |   }) => {
  145 |     await page.context().addCookies(apiAuth.cookies);
  146 |     const uniqueId = uuidv4();
  147 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
  148 |     const moba = new Moba(page);
  149 |
  150 |     await moba.mainURLs.openAdminStgMhwPage();
  151 |     await moba.stAdminPage.clickOnCreatePageButton();
  152 |     await moba.stPage.addHeaderV2Widget();
  153 |     await moba.stPage.createStPage(pageName);
  154 |
  155 |     // Регистрируем страницу для удаления
  156 |     cleanupStMhwPages.addPageForCleanup(pageName);
  157 |
  158 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Monster Hunter Wilds project`, async () => {
> 159 |       await expect(moba.stPage.headerV2Mhw).toContainText(
      |                                             ^ Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)
  160 |         "Monster Hunter Wilds"
  161 |       );
  162 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
  163 |     });
  164 |   });
  165 |
  166 |   // test(`Create a structure page on Bazaar project`, async ({
  167 |   //   apiAuth,
  168 |   //   page,
  169 |   //   cleanupStBazaarPages,
  170 |   // }) => {
  171 |   //   await page.context().addCookies(apiAuth.cookies);
  172 |   //   const uniqueId = uuidv4();
  173 |   //   const pageName = `/qa-automation-st-page-${uniqueId}`;
  174 |   //   const moba = new Moba(page);
  175 |
  176 |   //   await moba.mainURLs.openStgBazaarAdminPage();
  177 |   //   await moba.stAdminPage.clickOnCreatePageButton();
  178 |   //   await moba.stPage.addHeaderV2Widget();
  179 |   //   await moba.stPage.createStPage(pageName);
  180 |
  181 |   //   // Регистрируем страницу для удаления
  182 |   //   cleanupStBazaarPages.addPageForCleanup(pageName);
  183 |
  184 |   //   await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Bazaar project`, async () => {
  185 |   //     await expect(moba.stPage.headerV2Bazaar).toContainText("The Bazaar");
  186 |   //     await expect(moba.stPage.stPageTitle).toContainText(pageName);
  187 |   //   });
  188 |   // });
  189 |
  190 |   test(`Create a structure page on Marvel Rivals project`, async ({
  191 |     apiAuth,
  192 |     page,
  193 |     cleanupStMarvelRivalsPages,
  194 |   }) => {
  195 |     await page.context().addCookies(apiAuth.cookies);
  196 |     const uniqueId = uuidv4();
  197 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
  198 |     const moba = new Moba(page);
  199 |
  200 |     await moba.mainURLs.openAdminStgMarvelRivalsPage();
  201 |     await moba.stAdminPage.clickOnCreatePageButton();
  202 |     await moba.stPage.addHeaderV2Widget();
  203 |     await moba.stPage.createStPage(pageName);
  204 |
  205 |     // Регистрируем страницу для удаления
  206 |     cleanupStMarvelRivalsPages.addPageForCleanup(pageName);
  207 |
  208 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Marvel Rivals project`, async () => {
  209 |       await expect(moba.stPage.headerV2MarvelRivals).toContainText(
  210 |         "Marvel Rivals"
  211 |       );
  212 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
  213 |     });
  214 |   });
  215 |
  216 |   test(`Create a structure page on ZZZ project`, async ({
  217 |     apiAuth,
  218 |     page,
  219 |     cleanupStZzzPages,
  220 |   }) => {
  221 |     await page.context().addCookies(apiAuth.cookies);
  222 |     const uniqueId = uuidv4();
  223 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
  224 |     const moba = new Moba(page);
  225 |
  226 |     await moba.mainURLs.openAdminStgZzzPage();
  227 |     await moba.stAdminPage.clickOnCreatePageButton();
  228 |     await moba.stPage.addHeaderV2Widget();
  229 |     await moba.stPage.createStPage(pageName);
  230 |
  231 |     // Регистрируем страницу для удаления
  232 |     cleanupStZzzPages.addPageForCleanup(pageName);
  233 |
  234 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on ZZZ project`, async () => {
  235 |       await expect(moba.stPage.headerV2Zzz).toContainText("ZZZ");
  236 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
  237 |     });
  238 |   });
  239 | });
  240 |
  241 | test.describe("Creating UG Pages", () => {
  242 |   test(`Create a build page on ZZZ project`, async ({ apiAuth, page }) => {
  243 |     await page.context().addCookies(apiAuth.cookies);
  244 |     const uniqueId = uuidv4();
  245 |     const pageName = `qa-automation-build-page-${uniqueId}`;
  246 |     const moba = new Moba(page);
  247 |
  248 |     await moba.mainURLs.openUgStgZzzPage();
  249 |     await moba.ugProfilePage.gotoBuildPlannerPage();
  250 |     await moba.ugBuildPage.createBuild(pageName);
  251 |
  252 |     //Регистрируем страницу для удаления
  253 |     // cleanupUgZzzBuildPages.addPageForCleanup(pageName);
  254 |
  255 |     await test.step(`Expected Result: Build page with the name: ${pageName} is created on ZZZ project`, async () => {
  256 |       await expect(moba.ugBuildPage.header).toContainText("ZZZ Build");
  257 |       await expect(moba.ugBuildPage.controlPanel).toContainText(pageName);
  258 |     });
  259 |   });
```