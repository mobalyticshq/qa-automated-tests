# Test info

- Name: Creating UG Pages >> Create a team page on ZZZ project
- Location: /home/runner/work/qa-automated-tests/qa-automated-tests/e2e-tests/tests/ngf.test.js:498:7

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)

Locator: locator('section').first()
Expected string: "ZZZ Team"
Received: <element(s) not found>
Call log:
  - expect.toContainText with timeout 5000ms
  - waiting for locator('section').first()

    at /home/runner/work/qa-automated-tests/qa-automated-tests/e2e-tests/tests/ngf.test.js:513:45
    at /home/runner/work/qa-automated-tests/qa-automated-tests/e2e-tests/tests/ngf.test.js:512:16
```

# Page snapshot

```yaml
- link "Mobalytics":
  - /url: /zzz
  - img "Mobalytics"
- link "League of Legends LoL":
  - /url: https://stg.mobalytics.gg/lol
  - img "League of Legends"
  - text: LoL
- link "Teamfight Tactics TFT":
  - /url: https://stg.mobalytics.gg/tft
  - img "Teamfight Tactics"
  - text: TFT
- link "Path of Exile 2 PoE 2":
  - /url: https://stg.mobalytics.gg/poe-2
  - img "Path of Exile 2"
  - text: PoE 2
- link "Diablo 4 Diablo 4":
  - /url: https://stg.mobalytics.gg/diablo-4
  - img "Diablo 4"
  - text: Diablo 4
- link "Elden Ring Nightreign Nightreign New":
  - /url: https://stg.mobalytics.gg/elden-ring-nightreign
  - img "Elden Ring Nightreign"
  - text: Nightreign New
- link "Deadlock Deadlock":
  - /url: https://stg.mobalytics.gg/deadlock
  - img "Deadlock"
  - text: Deadlock
- link "Valorant VAL":
  - /url: https://stg.mobalytics.gg/valorant
  - img "Valorant"
  - text: VAL
- link "Monster Hunter Wilds Monster Hunter Wilds":
  - /url: https://stg.mobalytics.gg/mhw
  - img "Monster Hunter Wilds"
  - text: Monster Hunter Wilds
- link "Destiny 2 Destiny 2":
  - /url: https://stg.mobalytics.gg/destiny-2
  - img "Destiny 2"
  - text: Destiny 2
- button:
  - img
- link "Lost Ark Lost Ark":
  - /url: https://stg.mobalytics.gg/lost-ark
  - img "Lost Ark"
  - text: Lost Ark
- link "Example game ExG":
  - /url: https://stg.mobalytics.gg/example-game
  - img "Example game"
  - text: ExG
- link "The Bazaar The Bazaar":
  - /url: https://stg.mobalytics.gg/the-bazaar
  - img "The Bazaar"
  - text: The Bazaar
- link "Marvel Rivals Marvel Rivals":
  - /url: https://stg.mobalytics.gg/marvel-rivals
  - img "Marvel Rivals"
  - text: Marvel Rivals
- link "Zenless Zone Zero ZZZ New":
  - /url: https://stg.mobalytics.gg/zzz
  - img "Zenless Zone Zero"
  - text: ZZZ New
- link "win logo Download app":
  - /url: /lol/glp/download-welcome?Channel=web_dl_btn&utm_campaign=top-zzz&utm_medium=homepage&utm_source=web
  - button "win logo Download app":
    - img "win logo"
    - text: Download app
- text: Community
- button "Remove Ads"
- img "settings"
- img "support"
- link "Home":
  - /url: /zzz
  - img "Home"
- link "Profile":
  - /url: /zzz/profile
  - img "Profile"
- link "Characters":
  - /url: /zzz/characters
  - img "Characters"
- link "Builds":
  - /url: /zzz/builds
  - img "Builds"
- link "Tier List":
  - /url: /zzz/tier-list
  - img "Tier List"
- link "W-Engines":
  - /url: /zzz/w-engines
  - img "W-Engines"
- link "Drive Discs":
  - /url: /zzz/drive-discs
  - img "Drive Discs"
- link "Bangboos":
  - /url: /zzz/bangboos
  - img "Bangboos"
- link "Guides":
  - /url: /zzz/guides
  - img "Guides"
- main:
  - navigation:
    - list:
      - listitem:
        - link "Zenless Zone Zero":
          - /url: /zzz
      - listitem:
        - link "Profile":
          - /url: /zzz/profile?docType=teams
      - listitem: qa-automation-team-page-91f853b5-5b11-4661-92a0-d33e6c5bca28
  - text: qa-automation-team-page-91f853b5-5b11-4661-92a0-d33e6c5bca28 Draft
  - button "Publish"
  - button "Edit"
  - button "SEO":
    - img
    - text: SEO
  - button:
    - img
  - text: "Verified:"
  - button "Verified":
    - text: Verified
    - img
  - button "Featured":
    - text: Featured
    - img
  - button "ZZZ Team qa-automation-team-page-91f853b5-5b11-4661-92a0-d33e6c5bca28 By admin+stg+ns@mobalyticshq.com Updated on Jun 21, 2025":
    - text: ZZZ Team
    - heading "qa-automation-team-page-91f853b5-5b11-4661-92a0-d33e6c5bca28" [level=1]
    - text: By
    - link "admin+stg+ns@mobalyticshq.com":
      - /url: /zzz/profile/6b1379ab-7831-4ba0-96fb-0670f8f9c480
    - link:
      - /url: https://www.twitch.tv/twitch_live_label
      - button:
        - img
    - link:
      - /url: https://discord.gg/1
      - button:
        - img
    - text: Updated on Jun 21, 2025
  - status
```

# Test source

```ts
  413 |
  414 |   test(`Create a guide page on MHW project`, async ({
  415 |     apiAuthAdmin,
  416 |     page,
  417 |     baseURL,
  418 |   }) => {
  419 |     await page.context().addCookies(apiAuthAdmin.cookies);
  420 |     const uniqueId = uuidv4();
  421 |     const pageName = `qa-automation-guide-page-${uniqueId}`;
  422 |     const moba = new Moba(page);
  423 |
  424 |     await moba.mainURLs.openUgMhwPage(baseURL);
  425 |     await moba.ugProfilePage.gotoGuidePlannerPage();
  426 |     await moba.ugBuildPage.createGuide(pageName);
  427 |
  428 |     await test.step(`Expected Result: Guide page with the name: ${pageName} is created on MHW project`, async () => {
  429 |       await expect(moba.ugBuildPage.header).toContainText(
  430 |         "Monster Hunter Wilds Guide"
  431 |       );
  432 |       await expect(moba.ugBuildPage.controlPanel).toContainText(pageName);
  433 |     });
  434 |   });
  435 |
  436 |   //* At this moment Bazaar guides isn't available
  437 |   // test(`Create a guide page on Bazaar project`, async ({
  438 |   //   apiAuthAdmin,
  439 |   //   page,
  440 |   // }) => {
  441 |   //   await page.context().addCookies(apiAuthAdmin.cookies);
  442 |   //   const uniqueId = uuidv4();
  443 |   //   const pageName = `qa-automation-guide-page-${uniqueId}`;
  444 |   //   const moba = new Moba(page);
  445 |
  446 |   //   await moba.mainURLs.openUgBazaarPage();
  447 |   //   await moba.ugProfilePage.gotoGuidePlannerPage();
  448 |   //   await moba.ugBuildPage.createGuide(pageName);
  449 |
  450 |   //   await test.step(`Expected Result: Guide page with the name: ${pageName} is created on Bazaar project`, async () => {
  451 |   //     await expect(moba.ugBuildPage.header).toContainText("The Bazaar Guide");
  452 |   //     await expect(moba.ugBuildPage.controlPanel).toContainText(pageName);
  453 |   //   });
  454 |   // });
  455 |
  456 |   test(`Create a guide page on Marvel Rivals project`, async ({
  457 |     apiAuthAdmin,
  458 |     page,
  459 |     baseURL,
  460 |   }) => {
  461 |     await page.context().addCookies(apiAuthAdmin.cookies);
  462 |     const uniqueId = uuidv4();
  463 |     const pageName = `qa-automation-guide-page-${uniqueId}`;
  464 |     const moba = new Moba(page);
  465 |
  466 |     await moba.mainURLs.openUgMarvelRivalsPage(baseURL);
  467 |     await moba.ugProfilePage.gotoGuidePlannerPage();
  468 |     await moba.ugBuildPage.createGuide(pageName);
  469 |
  470 |     await test.step(`Expected Result: Guide page with the name: ${pageName} is created on Marvel Rivals project`, async () => {
  471 |       await expect(moba.ugBuildPage.header).toContainText(
  472 |         "Marvel Rivals Guide"
  473 |       );
  474 |       await expect(moba.ugBuildPage.controlPanel).toContainText(pageName);
  475 |     });
  476 |   });
  477 |
  478 |   test(`Create a guide page on ZZZ project`, async ({
  479 |     apiAuthAdmin,
  480 |     page,
  481 |     baseURL,
  482 |   }) => {
  483 |     await page.context().addCookies(apiAuthAdmin.cookies);
  484 |     const uniqueId = uuidv4();
  485 |     const pageName = `qa-automation-guide-page-${uniqueId}`;
  486 |     const moba = new Moba(page);
  487 |
  488 |     await moba.mainURLs.openUgZzzPage(baseURL);
  489 |     await moba.ugProfilePage.gotoGuidePlannerPage();
  490 |     await moba.ugBuildPage.createGuide(pageName);
  491 |
  492 |     await test.step(`Expected Result: Guide page with the name: ${pageName} is created on ZZZ project`, async () => {
  493 |       await expect(moba.ugBuildPage.header).toContainText("ZZZ Guide");
  494 |       await expect(moba.ugBuildPage.controlPanel).toContainText(pageName);
  495 |     });
  496 |   });
  497 |
  498 |   test(`Create a team page on ZZZ project`, async ({
  499 |     apiAuthAdmin,
  500 |     page,
  501 |     baseURL,
  502 |   }) => {
  503 |     await page.context().addCookies(apiAuthAdmin.cookies);
  504 |     const uniqueId = uuidv4();
  505 |     const pageName = `qa-automation-team-page-${uniqueId}`;
  506 |     const moba = new Moba(page);
  507 |
  508 |     await moba.mainURLs.openUgZzzPage(baseURL);
  509 |     await moba.ugProfilePage.gotoTeamPlannerPage();
  510 |     await moba.ugBuildPage.createGuide(pageName);
  511 |
  512 |     await test.step(`Expected Result: Team page with the name: ${pageName} is created on ZZZ project`, async () => {
> 513 |       await expect(moba.ugBuildPage.header).toContainText("ZZZ Team");
      |                                             ^ Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)
  514 |       await expect(moba.ugBuildPage.controlPanel).toContainText(pageName);
  515 |     });
  516 |   });
  517 | });
  518 |
  519 | test.describe("Checking role permissions", () => {
  520 |   test.describe("Admin permission", () => {
  521 |     test(`Admin role has access to the Admin ST page`, async ({
  522 |       apiAuthAdmin,
  523 |       page,
  524 |       baseURL,
  525 |     }) => {
  526 |       await page.context().addCookies(apiAuthAdmin.cookies);
  527 |       let adminTitle = "Structure Pages";
  528 |       const moba = new Moba(page);
  529 |
  530 |       await moba.mainURLs.openAdminPoePage(baseURL);
  531 |       await test.step(`Expected Result: Admin structure page is opened`, async () => {
  532 |         await expect(moba.stAdminPage.stAdminTitle(adminTitle)).toContainText(
  533 |           adminTitle
  534 |         );
  535 |       });
  536 |     });
  537 |
  538 |     test('St Widget contains "Edit" button, "Delete" button & "Create Page" button is present on ST page for Admin role', async ({
  539 |       page,
  540 |       apiAuthAdmin,
  541 |       baseURL,
  542 |     }) => {
  543 |       await page.context().addCookies(apiAuthAdmin.cookies);
  544 |       const moba = new Moba(page);
  545 |       let stWidgetName = "/qa-not-delete-st-page";
  546 |
  547 |       await moba.mainURLs.openAdminNightreignPage(baseURL);
  548 |
  549 |       await test.step('Expected Result: St Widget contains "Edit" button', async () => {
  550 |         await expect(moba.stAdminPage.editButton(stWidgetName)).toBeVisible();
  551 |       });
  552 |       await test.step('Expected Result: St Widget contains "Delete" button', async () => {
  553 |         await expect(moba.stAdminPage.deleteButton(stWidgetName)).toBeVisible();
  554 |       });
  555 |       await test.step('Expected Result: "Create Page" button is present on ST page for Admin role', async () => {
  556 |         await expect(moba.stAdminPage.createPageButton).toBeVisible();
  557 |       });
  558 |     });
  559 |
  560 |     test(`View mode of the "/qa-not-delete-st-page" structure page is available for the Admin role`, async ({
  561 |       apiAuthAdmin,
  562 |       page,
  563 |       baseURL,
  564 |     }) => {
  565 |       await page.context().addCookies(apiAuthAdmin.cookies);
  566 |       let stWidgetName = "/qa-not-delete-st-page";
  567 |
  568 |       const moba = new Moba(page);
  569 |
  570 |       await moba.mainURLs.openAdminNightreignPage(baseURL);
  571 |       await moba.stAdminPage.clickOnStWidget(stWidgetName);
  572 |       await test.step(`Expected Result: View mode the "/home" structure page is opened`, async () => {
  573 |         await expect(moba.stPage.stPageTitle).toContainText(stWidgetName);
  574 |       });
  575 |     });
  576 |
  577 |     test(`Admin role can duplicate the structure page`, async ({
  578 |       apiAuthAdmin,
  579 |       page,
  580 |       cleanupStPoEPages,
  581 |       baseURL,
  582 |     }) => {
  583 |       await page.context().addCookies(apiAuthAdmin.cookies);
  584 |       const uniqueId = uuidv4();
  585 |       const pageName = `/qa-automation-st-page-${uniqueId}`;
  586 |       const moba = new Moba(page);
  587 |       let stWidgetName = "/qa-not-delete-st-page";
  588 |
  589 |       await moba.mainURLs.openAdminPoePage(baseURL);
  590 |       await moba.stAdminPage.clickOnStWidget(stWidgetName);
  591 |       await moba.stPage.duplicateStPage(pageName);
  592 |       cleanupStPoEPages.addPageForCleanup(pageName); // Register page for deleting
  593 |       await moba.mainURLs.openAdminPoePage(baseURL);
  594 |
  595 |       await test.step(`Expected Result: ST page: ${pageName} is duplicated under Admin role`, async () => {
  596 |         await expect(moba.stAdminPage.stWidget(pageName)).toContainText(
  597 |           pageName
  598 |         );
  599 |       });
  600 |     });
  601 |
  602 |     test(`Admin role can edit the structure page`, async ({
  603 |       apiAuthAdmin,
  604 |       page,
  605 |       cleanupStZzzPages,
  606 |       baseURL,
  607 |     }) => {
  608 |       await page.context().addCookies(apiAuthAdmin.cookies);
  609 |       const uniqueId = uuidv4();
  610 |       const pageName = `/qa-automation-st-page-${uniqueId}`;
  611 |       const moba = new Moba(page);
  612 |
  613 |       await moba.mainURLs.openAdminZzzPage(baseURL);
```