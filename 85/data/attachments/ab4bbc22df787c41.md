# Test info

- Name: Creating ST Pages >> Create a structure page on Nightreign project
- Location: /home/runner/work/qa-automated-tests/qa-automated-tests/e2e-tests/tests/ngf.test.js:52:7

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)

Locator: getByTestId('document-controls-panel')
Expected string: "/qa-automation-st-page-edf6ccbe-7022-4fd6-86b9-908f3c865d6f"
Received: <element(s) not found>
Call log:
  - expect.toContainText with timeout 5000ms
  - waiting for getByTestId('document-controls-panel')

    at /home/runner/work/qa-automated-tests/qa-automated-tests/e2e-tests/tests/ngf.test.js:73:45
    at /home/runner/work/qa-automated-tests/qa-automated-tests/e2e-tests/tests/ngf.test.js:71:5
```

# Page snapshot

```yaml
- link "Mobalytics":
  - /url: /elden-ring-nightreign
  - img "Mobalytics"
- link "League of Legends LoL":
  - /url: https://stg.mobalytics.gg/lol
  - img "League of Legends"
  - text: LoL
- link "Teamfight Tactics TFT":
  - /url: https://stg.mobalytics.gg/tft
  - img "Teamfight Tactics"
  - text: TFT
- link "Path of Exile 2 PoE 2":
  - /url: https://stg.mobalytics.gg/poe-2
  - img "Path of Exile 2"
  - text: PoE 2
- link "Diablo 4 Diablo 4":
  - /url: https://stg.mobalytics.gg/diablo-4
  - img "Diablo 4"
  - text: Diablo 4
- link "Elden Ring Nightreign Nightreign New":
  - /url: https://stg.mobalytics.gg/elden-ring-nightreign
  - img "Elden Ring Nightreign"
  - text: Nightreign New
- link "Deadlock Deadlock":
  - /url: https://stg.mobalytics.gg/deadlock
  - img "Deadlock"
  - text: Deadlock
- link "Valorant VAL":
  - /url: https://stg.mobalytics.gg/valorant
  - img "Valorant"
  - text: VAL
- link "Monster Hunter Wilds Monster Hunter Wilds":
  - /url: https://stg.mobalytics.gg/mhw
  - img "Monster Hunter Wilds"
  - text: Monster Hunter Wilds
- link "Destiny 2 Destiny 2":
  - /url: https://stg.mobalytics.gg/destiny-2
  - img "Destiny 2"
  - text: Destiny 2
- link "Lost Ark Lost Ark":
  - /url: https://stg.mobalytics.gg/lost-ark
  - img "Lost Ark"
  - text: Lost Ark
- button:
  - img
- link "Example game ExG":
  - /url: https://stg.mobalytics.gg/example-game
  - img "Example game"
  - text: ExG
- link "The Bazaar The Bazaar":
  - /url: https://stg.mobalytics.gg/the-bazaar
  - img "The Bazaar"
  - text: The Bazaar
- link "Marvel Rivals Marvel Rivals":
  - /url: https://stg.mobalytics.gg/marvel-rivals
  - img "Marvel Rivals"
  - text: Marvel Rivals
- link "Zenless Zone Zero ZZZ New":
  - /url: https://stg.mobalytics.gg/zzz
  - img "Zenless Zone Zero"
  - text: ZZZ New
- link "win logo Download app":
  - /url: /lol/glp/download-welcome?Channel=web_dl_btn&utm_campaign=top-elden-ring-nightreign&utm_medium=homepage&utm_source=web
  - button "win logo Download app":
    - img "win logo"
    - text: Download app
- text: Community
- img "support"
- link "Home":
  - /url: /elden-ring-nightreign
  - img "Home"
- link "Builds":
  - /url: /elden-ring-nightreign/builds
  - img "Builds"
- link "Classes":
  - /url: /elden-ring-nightreign/classes
  - img "Classes"
- link "Tier List":
  - /url: /elden-ring-nightreign/tier-list
  - img "Tier List"
- link "Bosses":
  - /url: /elden-ring-nightreign/bosses
  - img "Bosses"
- link "Guides":
  - /url: /elden-ring-nightreign/guides
  - img "Guides"
- link "Wiki":
  - /url: /elden-ring-nightreign/wiki
  - img "Wiki"
- main:
  - heading "Structure Pages" [level=1]
  - link "Create Page":
    - /url: /elden-ring-nightreign/planner/st
    - img
    - text: Create Page
  - text: /13123123
  - link "Edit":
    - /url: /elden-ring-nightreign/13123123
  - button:
    - img
  - text: /bosses
  - link "Edit":
    - /url: /elden-ring-nightreign/bosses
  - button:
    - img
  - text: /builds
  - link "Edit":
    - /url: /elden-ring-nightreign/builds
  - button:
    - img
  - text: /classes
  - link "Edit":
    - /url: /elden-ring-nightreign/classes
  - button:
    - img
  - text: /guides
  - link "Edit":
    - /url: /elden-ring-nightreign/guides
  - button:
    - img
  - text: /home
  - link "Edit":
    - /url: /elden-ring-nightreign/home
  - button:
    - img
  - text: /ionov
  - link "Edit":
    - /url: /elden-ring-nightreign/ionov
  - button:
    - img
  - text: /morellos-test-page
  - link "Edit":
    - /url: /elden-ring-nightreign/morellos-test-page
  - button:
    - img
  - text: /morello-test-page
  - link "Edit":
    - /url: /elden-ring-nightreign/morello-test-page
  - button:
    - img
  - text: /qa-automation-st-page-18b173c9-1554-447c-8906-7c547c896cba
  - link "Edit":
    - /url: /elden-ring-nightreign/qa-automation-st-page-18b173c9-1554-447c-8906-7c547c896cba
  - button:
    - img
  - text: /qa-not-delete-st-page
  - link "Edit":
    - /url: /elden-ring-nightreign/qa-not-delete-st-page
  - button:
    - img
  - text: /swwidget
  - link "Edit":
    - /url: /elden-ring-nightreign/swwidget
  - button:
    - img
  - text: /test1122
  - link "Edit":
    - /url: /elden-ring-nightreign/test1122
  - button:
    - img
  - text: /test-ana-wiki
  - link "Edit":
    - /url: /elden-ring-nightreign/test-ana-wiki
  - button:
    - img
  - text: /test-ern-stg-widgets-refactoring-el
  - link "Edit":
    - /url: /elden-ring-nightreign/test-ern-stg-widgets-refactoring-el
  - button:
    - img
  - text: /test-ern-stg-widgets-refactoring-wiki-el
  - link "Edit":
    - /url: /elden-ring-nightreign/test-ern-stg-widgets-refactoring-wiki-el
  - button:
    - img
  - text: /test-int-ern-refactoring-stas
  - link "Edit":
    - /url: /elden-ring-nightreign/test-int-ern-refactoring-stas
  - button:
    - img
  - text: /test-widgets-refactoring-el
  - link "Edit":
    - /url: /elden-ring-nightreign/test-widgets-refactoring-el
  - button:
    - img
  - text: /test-widgets-refactoring-wiki-el
  - link "Edit":
    - /url: /elden-ring-nightreign/test-widgets-refactoring-wiki-el
  - button:
    - img
  - text: /tier-list
  - link "Edit":
    - /url: /elden-ring-nightreign/tier-list
  - button:
    - img
  - text: /wiki
  - link "Edit":
    - /url: /elden-ring-nightreign/wiki
  - button:
    - img
  - text: /wiki/catalysts
  - link "Edit":
    - /url: /elden-ring-nightreign/wiki/catalysts
  - button:
    - img
  - text: /wiki/katanas
  - link "Edit":
    - /url: /elden-ring-nightreign/wiki/katanas
  - button:
    - img
  - text: /wiki/relics
  - link "Edit":
    - /url: /elden-ring-nightreign/wiki/relics
  - button:
    - img
  - text: /wiki/shields
  - link "Edit":
    - /url: /elden-ring-nightreign/wiki/shields
  - button:
    - img
  - text: /wiki/weapons
  - link "Edit":
    - /url: /elden-ring-nightreign/wiki/weapons
  - button:
    - img
- button "Do Not Sell or Share My Personal Information":
  - paragraph: Do Not Sell or Share My Personal Information
```

# Test source

```ts
   1 | import { expect } from "@playwright/test";
   2 | import { test } from "../../src/fixtures/index";
   3 | import { Moba } from "../../src/page-object/moba";
   4 | import { v4 as uuidv4 } from "uuid";
   5 |
   6 | test(`"New Game" is present in the navbar on STG`, async ({ page }) => {
   7 |   const NEW_GAME = "ZZZ";
   8 |   const moba = new Moba(page);
   9 |   await page.goto("https://stg.mobalytics.gg/destiny-2");
   10 |
   11 |   await test.step(`Expected Result: There is no ${NEW_GAME} game in the navbar on prod`, async () => {
   12 |     await expect(moba.navbar.gameList).toContainText(NEW_GAME);
   13 |   });
   14 | });
   15 |
   16 | test(`"New Game" is missing in the navbar on PROD`, async ({ page }) => {
   17 |   const NEW_GAME = "ZZZ";
   18 |   const moba = new Moba(page);
   19 |   await page.goto("https://mobalytics.gg/destiny-2");
   20 |
   21 |   await test.step(`Expected Result: There is no ${NEW_GAME} game in the navbar on prod`, async () => {
   22 |     await expect(moba.navbar.gameList).not.toContainText(NEW_GAME);
   23 |   });
   24 | });
   25 |
   26 | test.describe("Creating ST Pages", () => {
   27 |   test(`Create a structure page on PoE project`, async ({
   28 |     apiAuthAdmin,
   29 |     page,
   30 |     cleanupStPoEPages,
   31 |     baseURL,
   32 |   }) => {
   33 |     await page.context().addCookies(apiAuthAdmin.cookies);
   34 |     const uniqueId = uuidv4();
   35 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
   36 |     const moba = new Moba(page);
   37 |
   38 |     await moba.mainURLs.openAdminPoePage(baseURL);
   39 |     await moba.stAdminPage.gotoStPlannerPage();
   40 |     await moba.stPage.addHeaderV2Widget();
   41 |     await moba.stPage.createStPage(pageName);
   42 |
   43 |     // Register page for deleting
   44 |     cleanupStPoEPages.addPageForCleanup(pageName);
   45 |
   46 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on PoE project`, async () => {
   47 |       await expect(moba.stPage.headerV2PoE).toContainText("PoE 2");
   48 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
   49 |     });
   50 |   });
   51 |
   52 |   test(`Create a structure page on Nightreign project`, async ({
   53 |     apiAuthAdmin,
   54 |     page,
   55 |     cleanupStNightreignPages,
   56 |     baseURL,
   57 |   }) => {
   58 |     await page.context().addCookies(apiAuthAdmin.cookies);
   59 |     const uniqueId = uuidv4();
   60 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
   61 |     const moba = new Moba(page);
   62 |
   63 |     await moba.mainURLs.openAdminNightreignPage(baseURL);
   64 |     await moba.stAdminPage.gotoStPlannerPage();
   65 |     await moba.stPage.addHeaderV2Widget();
   66 |     await moba.stPage.createStPage(pageName);
   67 |
   68 |     // Register page for deleting
   69 |     cleanupStNightreignPages.addPageForCleanup(pageName);
   70 |
   71 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Nightreign project`, async () => {
   72 |       await expect(moba.stPage.headerV2Nightreign).toContainText("Nightreign");
>  73 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
      |                                             ^ Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)
   74 |     });
   75 |   });
   76 |
   77 |   test(`Create a structure page on Deadlock project`, async ({
   78 |     apiAuthAdmin,
   79 |     page,
   80 |     cleanupStDeadlockPages,
   81 |     baseURL,
   82 |   }) => {
   83 |     await page.context().addCookies(apiAuthAdmin.cookies);
   84 |     const uniqueId = uuidv4();
   85 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
   86 |     const moba = new Moba(page);
   87 |
   88 |     await moba.mainURLs.openAdminDeadlockPage(baseURL);
   89 |     await moba.stAdminPage.gotoStPlannerPage();
   90 |     await moba.stPage.addHeaderV2Widget();
   91 |     await moba.stPage.createStPage(pageName);
   92 |
   93 |     // Register page for deleting
   94 |     cleanupStDeadlockPages.addPageForCleanup(pageName);
   95 |
   96 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Deadlock project`, async () => {
   97 |       await expect(moba.stPage.headerV2Deadlock).toContainText("Deadlock");
   98 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
   99 |     });
  100 |   });
  101 |
  102 |   test(`Create a structure page on Mhw project`, async ({
  103 |     apiAuthAdmin,
  104 |     page,
  105 |     cleanupStMhwPages,
  106 |     baseURL,
  107 |   }) => {
  108 |     await page.context().addCookies(apiAuthAdmin.cookies);
  109 |     const uniqueId = uuidv4();
  110 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
  111 |     const moba = new Moba(page);
  112 |
  113 |     await moba.mainURLs.openAdminMhwPage(baseURL);
  114 |     await moba.stAdminPage.gotoStPlannerPage();
  115 |     await moba.stPage.addHeaderV2Widget();
  116 |     await moba.stPage.createStPage(pageName);
  117 |
  118 |     // Register page for deleting
  119 |     cleanupStMhwPages.addPageForCleanup(pageName);
  120 |
  121 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Monster Hunter Wilds project`, async () => {
  122 |       await expect(moba.stPage.headerV2Mhw).toContainText(
  123 |         "Monster Hunter Wilds"
  124 |       );
  125 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
  126 |     });
  127 |   });
  128 |
  129 |   test(`Create a structure page on Bazaar project`, async ({
  130 |     apiAuthAdmin,
  131 |     page,
  132 |     cleanupStBazaarPages,
  133 |     baseURL,
  134 |   }) => {
  135 |     await page.context().addCookies(apiAuthAdmin.cookies);
  136 |     const uniqueId = uuidv4();
  137 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
  138 |     const moba = new Moba(page);
  139 |
  140 |     await moba.mainURLs.openAdminBazaarPage(baseURL);
  141 |     await moba.stAdminPage.gotoStPlannerPage();
  142 |     await moba.stPage.addHeaderV2Widget();
  143 |     await moba.stPage.createStPage(pageName);
  144 |
  145 |     // Register page for deleting
  146 |     cleanupStBazaarPages.addPageForCleanup(pageName);
  147 |
  148 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Bazaar project`, async () => {
  149 |       await expect(moba.stPage.headerV2Bazaar).toContainText("The Bazaar");
  150 |       await expect(moba.stPage.stPageTitle).toContainText(pageName);
  151 |     });
  152 |   });
  153 |
  154 |   test(`Create a structure page on Marvel Rivals project`, async ({
  155 |     apiAuthAdmin,
  156 |     page,
  157 |     cleanupStMarvelRivalsPages,
  158 |     baseURL,
  159 |   }) => {
  160 |     await page.context().addCookies(apiAuthAdmin.cookies);
  161 |     const uniqueId = uuidv4();
  162 |     const pageName = `/qa-automation-st-page-${uniqueId}`;
  163 |     const moba = new Moba(page);
  164 |
  165 |     await moba.mainURLs.openAdminMarvelRivalsPage(baseURL);
  166 |     await moba.stAdminPage.gotoStPlannerPage();
  167 |     await moba.stPage.addHeaderV2Widget();
  168 |     await moba.stPage.createStPage(pageName);
  169 |
  170 |     // Register page for deleting
  171 |     cleanupStMarvelRivalsPages.addPageForCleanup(pageName);
  172 |
  173 |     await test.step(`Expected Result: Structure page with the name: ${pageName} is created on Marvel Rivals project`, async () => {
```